взяти визначення МаМа;

зовнішня дія прочитати_файл(шлях: Ю8): Ю8;

зовнішня дія стартувати_мавку(кількість_аргументів: ц32, аргументи: памʼять<Ю8>): ц32 {
  ціль шлях = ю8"привіт.м";
  ціль значення_з_файлу = прочитати_файл(шлях);
  ціль текст_коду = виділити<ТекстКоду>();
  текст_коду.шлях = виділити_копію_ю8(шлях);
  текст_коду.значення = значення_з_файлу;
  ціль результат_розбору_мавки = розібрати_мавку(текст_коду);
  якщо результат_розбору_мавки.успіх == 0 {
    вивести_ю8(ю8"Помилка розбору: ");
    надрукувати_ю8(результат_розбору_мавки.помилка.повідомлення);
    вернути 1;
  }
  ціль М = МаМа::виділити_машину();
  ціль код = МаМа::виділити_код();
  ціль контекст_компіляції = виділити<МаМа::КонтекстКомпіляції>();
  ціль результат_компіляції = МаМа::скомпілювати_тіло(М, контекст_компіляції, код, результат_розбору_мавки.тіло);
  МаМа::надрукувати_код(код);
  вернути 0;
}