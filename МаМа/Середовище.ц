взяти визначення МаМа;

секція МаМа {
  місцева дія виділити_середовище(М: адреса<Машина>, батьківське: адреса<Середовище>): адреса<Середовище> {
    ціль середовище = виділити<Середовище>();
    середовище.наступне_середовище = М.утилізатор.початок_середовищ;
    середовище.позначено = ні;
    середовище.батьківське = батьківське;
    середовище.субʼєкти = зробити_реєстр<адреса<Назва>, адреса<Обʼєкт>>(перевірити_чи_назви_рівні);
    М.утилізатор.початок_середовищ = середовище;
    М.утилізатор.кількість_середовищ = М.утилізатор.кількість_середовищ + 1;
    вернути середовище;
  }

  місцева дія змінити_в_середовищі(середовище: адреса<Середовище>, назва: адреса<Назва>, обʼєкт: адреса<Обʼєкт>) {
    змінити_в_реєстрі<адреса<Назва>, адреса<Обʼєкт>>(середовище.субʼєкти::адреса, назва, обʼєкт);
  }

  місцева дія знайти_в_середовищі(середовище: адреса<Середовище>, назва: адреса<Назва>): адреса<Обʼєкт> {
    змінна ціль поточне_середовище = середовище;
    поки поточне_середовище != пусто {
      ціль знайдений_елемент_карти = отримати_з_реєстру<адреса<Назва>, адреса<Обʼєкт>>(поточне_середовище.субʼєкти::адреса, назва);
      якщо знайдений_елемент_карти != пусто {
        вернути знайдений_елемент_карти.значення;
      }
      поточне_середовище = поточне_середовище.батьківське;
    }
    вернути пусто;
  }

  місцева дія звільнити_середовище(М: адреса<Машина>, середовище: адреса<Середовище>) {
    надрукувати_ю8(ю8"Звільняємо середовище");
    звільнити_значення_реєстру<адреса<Назва>, адреса<Обʼєкт>>(середовище.субʼєкти);
    звільнити(середовище);
  }
}