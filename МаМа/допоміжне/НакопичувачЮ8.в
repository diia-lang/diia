взяти визначення ./біб;
взяти визначення ./накопичувач;

секція МаМа {
  синонім НакопичувачЮ8 = Накопичувач<п8>;

  дія зробити_накопичувач_ю8(): НакопичувачЮ8 {
    вернути зробити_накопичувач<п8>();
  }

  дія покласти_в_накопичувач_ю8(буфер: адреса<НакопичувачЮ8>, значення: Ю8) {
    змінна ціль х: позитивне = 0;
    поки значення[х] != 0 {
      покласти_в_накопичувач<п8>(буфер, значення[х]);
      х = х + 1;
    }
  }

  дія видалити_останнє_значення_з_накопичувача_ю8(буфер: адреса<НакопичувачЮ8>) {
    буфер.розмір = буфер.розмір - 1;
  }

  дія покласти_символ_в_накопичувач_ю8(буфер: адреса<НакопичувачЮ8>, значення: п8) {
    покласти_в_накопичувач<п8>(буфер, значення);
  }

  дія звільнити_значення_накопичувача_ю8(буфер: НакопичувачЮ8) {
    звільнити_значення_накопичувача<п8>(буфер);
  }

  дія виділити_ю8_з_накопичувача_ю8(буфер: адреса<НакопичувачЮ8>): Ю8 {
    ціль значення = виділити<п8>(ц32(буфер.розмір + 1));
    змінна ціль х: позитивне = 0;
    поки х < буфер.розмір {
      значення[х] = буфер.дані[х];
      х = х + 1;
    }
    значення[буфер.розмір] = 0;
    вернути значення;
  }
}