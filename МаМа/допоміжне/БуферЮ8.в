взяти визначення МаМа/допоміжне/біб;
взяти визначення МаМа/допоміжне/накопичувач;

синонім БуферЮ8 = Накопичувач<п8>;

дія зробити_буфер_ю8(): БуферЮ8 {
  вернути зробити_накопичувач<п8>();
}

дія додати_до_буфера_ю8(буфер: адреса<БуферЮ8>, значення: Ю8) {
  змінна ціль х: позитивне = 0;
  поки значення[х] != 0 {
    покласти_в_накопичувач<п8>(буфер, значення[х]);
    х = х + 1;
  }
}

дія видалити_останнє_значення_з_буфера_ю8(буфер: адреса<БуферЮ8>) {
  буфер.розмір = буфер.розмір - 1;
}

дія додати_символ_до_буфера_ю8(буфер: адреса<БуферЮ8>, значення: п8) {
  покласти_в_накопичувач<п8>(буфер, значення);
}

дія звільнити_значення_буфера_ю8(буфер: БуферЮ8) {
  звільнити_значення_накопичувача<п8>(буфер);
}

дія виділити_ю8_з_буфера(буфер: адреса<БуферЮ8>): Ю8 {
  ціль значення = виділити<п8>((буфер.розмір + 1) як ц32);
  змінна ціль х: позитивне = 0;
  поки х < буфер.розмір {
    значення[х] = буфер.дані[х];
    х = х + 1;
  }
  значення[буфер.розмір] = 0;
  вернути значення;
}
