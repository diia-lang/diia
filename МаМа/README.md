# Машина Мавки

МаМа (Машина Мавки) це спеціальна віртуальна машина, що виконує вказівки Мавки.

## Використання

```ціль
взяти визначення МаМа;

дія дія_виконання_нативної_дії_друк(...) {
  // ...
}

дія старт(): ц32 {
  ціль М = МаМа::виділити_машину();
  
  ціль назва_друк = МаМа::назва(ю8"друк");
  ціль нативна_дія_друк = МаМа::виділити_обʼєкт_нативної_дії(М, назва_друк, дія_виконання_нативної_дії_друк);
  МаМа::змінити_в_середовищі(М, назва_друк, нативна_дія_друк);
  
  ціль позиція_коду = МаМа::покласти_новий_код(М);
  ціль код = МаМа::отримати_код(М, позиція_коду);
  // ПІ = 3.14
  МаМа::покласти_вказівку_ПокластиЧисло(М, код, 3.14);
  ціль позиція_назви_ПІ = МаМа::покласти_назву_з_ю8(М, ю8"ПІ");
  МаМа::покласти_вказівку_Визначити(М, код, позиція_назви_ПІ);
  // друк(ПІ)
  ціль позиція_назви_друк = МаМа::покласти_назву_з_ю8(М, ю8"друк");
  МаМа::покласти_вказівку_Звернутись(М, код, позиція_назви_друк);
  МаМа::покласти_вказівку_Звернутись(М, код, позиція_назви_ПІ);
  МаМа::покласти_вказівку_Виконати(М, код, 1);
  
  ціль середовище_виконання = МаМа::виділити_середовище(М, М.глобальне_середовище);
  МаМа::покласти_середовище_виконання_в_історію(М, середовище_виконання);
  ціль результат_виконання_коду = МаМа::виконати_код(М, код);
  МаМа::забрати_середовище_виконання_з_історії(М);
  якщо М.стан_помилки {
    // обробка помилки
  } інакше {
    // обробка результату
  }
  
  вернути 0;
}
```