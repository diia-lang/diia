взяти визначення МаМа/допоміжне/біб;
взяти визначення МаМа/допоміжне/карта;
взяти визначення МаМа/допоміжне/стопка;
взяти визначення МаМа/допоміжне/вектор;
взяти визначення МаМа/допоміжне/різне;
взяти визначення МаМа/розбирач;

секція МаМа {
  синонім ВВизначити = 1; // [обʼєкт](позиція_назви:п32){} -> []
  синонім ВЗвернутись = 2; // [](позиція_назви:п32){} -> [обʼєкт]
  синонім ВВиконати = 3; // [обʼєкт](кількість_аргументів:п32){} -> [результат]
  синонім ВОтримати = 4; // [обʼєкт](позиція_назви:п32){} -> [результат]
  синонім ВЗмінити = 5; // [обʼєкт, значення](позиція_назви:п32){} -> []
  синонім ВПокластиЧисло = 6; // [](позиція_числа:п32){} -> []
  синонім ВПокластиТекст = 7; // [](позиція_тексту:п32){} -> []
  синонім ВСтворитиДію = 9; // ...
  синонім ВСтворитиСтруктуру = 10; // ...
  синонім ВСтворитиСловник = 11; // ...
  синонім ВСтворитиСписок = 12; // ...
  синонім ВДодати = 13; // [а, б](){} -> [результат]

  синонім ВВиконатиЗНазвами = 99; // [обʼєкт](кількість_аргументів:п32){-НА} -> [результат]
  синонім ВПокластиНакопичувачАргументів = 100; // [](){+НА} -> []
  синонім ВНакопичитиАргумент = 101; // [обʼєкт](позиція_назви:п32){++НА} -> []

  структура Код;
  структура Назва;
  структура МісцезнаходженняВказівки;

  структура МісцезнаходженняВказівки {
    позиція_вказівки: п32;
    рядок: п32;
    стовпець: п32;
  }

  структура Код {
    текст_коду: адреса<ТекстКоду>;
    розмір_вказівок: п32;
    вказівки: памʼять<п8>;
    кількість_назв: п32;
    назви: памʼять<адреса<Назва>>;
    кількість_чисел: п32;
    числа: памʼять<д64>;
    кількість_текстів: п32;
    тексти: памʼять<памʼять<п32>>;
    розмір_місцезнаходження_вказівок: п32;
    місцезнаходження_вказівок: памʼять<МісцезнаходженняВказівки>;
    кількість_підкодів: п32;
    підкоди: памʼять<адреса<Код>>;
  }

  місцева дія виділити_код(текст_коду: адреса<ТекстКоду>): адреса<Код>;
  місцева дія додати_назву_до_коду(код: адреса<Код>, назва: адреса<Назва>): п32;
  місцева дія додати_число_до_коду(код: адреса<Код>, значення: д64): п32;
  місцева дія додати_текст_до_коду(код: адреса<Код>, текст: памʼять<п32>): п32;
  місцева дія додати_вказівку_до_коду(код: адреса<Код>, рядок: п32, стовпець: п32, вказівка: п8): п32;
  місцева дія додати_вказівку_до_коду_з_аргументом_п32(код: адреса<Код>, рядок: п32, стовпець: п32, вказівка: п8, аргумент: п32): п32;
  місцева дія прочитати_аргумент_вказівки_п32(код: адреса<Код>, позиція: п32): п32;
  місцева дія надрукувати_код(код: адреса<Код>);
  місцева дія знайти_місцезнаходження_вказівки(код: адреса<Код>, позиція_вказівки: п32): адреса<МісцезнаходженняВказівки>;

  структура Назва {
    значення: Ю8;
  }

  місцева дія виділити_назву(значення: Ю8): адреса<Назва>;
  місцева дія перевірити_чи_назви_рівні(назва1: адреса<Назва>, назва2: адреса<Назва>): логічне;
}

секція МаМа {
  структура Обʼєкт;
  структура МісцезнаходженняПомилки;
  структура Машина;
  структура Середовище;

  синонім адреса_або_стан_помилки<Т> = адреса<Т>;
  синонім адреса_або_пусто<Т> = адреса<Т>;

  структура ДаніОбʼєктаСтруктури {
    предок: адреса<Обʼєкт>;
  }

  синонім ДаніОбʼєктаЧисла = д64;
  синонім ДаніОбʼєктаТексту = Ю32;
  синонім ДаніОбʼєктаНативноїДії = (я: адреса<Обʼєкт>, М: адреса<Машина>, середовище: адреса<Середовище>, аргументи: адреса<Вектор<адреса<Обʼєкт>>>, аргументи_з_назвами: адреса_або_пусто<Карта<адреса<Назва>, адреса<Обʼєкт>>>) -> адреса_або_стан_помилки<Обʼєкт>;

  структура Обʼєкт {
    обʼєкт_структури: адреса<Обʼєкт>;
    властивості: Карта<адреса<Назва>, адреса<Обʼєкт>>;
    дані: ДаніОбʼєктаСтруктури | ДаніОбʼєктаЧисла | ДаніОбʼєктаТексту | ДаніОбʼєктаНативноїДії;
  }

  місцева дія надрукувати_обʼєкт(М: адреса<Машина>, обʼєкт: адреса<Обʼєкт>);
  місцева дія надрукувати_обʼєкт_числа(М: адреса<Машина>, обʼєкт: адреса<Обʼєкт>);
  місцева дія надрукувати_обʼєкт_тексту(М: адреса<Машина>, обʼєкт: адреса<Обʼєкт>);
  місцева дія виділити_обʼєкт(М: адреса<Машина>, обʼєкт_структури: адреса<Обʼєкт>): адреса<Обʼєкт>;
  місцева дія виділити_обʼєкт_числа(М: адреса<Машина>, значення: д64): адреса<Обʼєкт>;
  місцева дія виділити_обʼєкт_тексту(М: адреса<Машина>, значення: Ю32): адреса<Обʼєкт>;
  місцева дія виділити_обʼєкт_тексту_з_ю8(М: адреса<Машина>, значення: Ю8): адреса<Обʼєкт>;
  місцева дія виділити_обʼєкт_дії(М: адреса<Машина>): адреса<Обʼєкт>;
  місцева дія виділити_обʼєкт_структури(М: адреса<Машина>, предок: адреса<Обʼєкт>): адреса<Обʼєкт>;
  місцева дія виділити_обʼєкт_нативної_дії(М: адреса<Машина>, дія_виконання: (я: адреса<Обʼєкт>, М: адреса<Машина>, середовище: адреса<Середовище>, аргументи: адреса<Вектор<адреса<Обʼєкт>>>, аргументи_з_назвами: адреса_або_пусто<Карта<адреса<Назва>, адреса<Обʼєкт>>>) -> адреса_або_стан_помилки<Обʼєкт>): адреса<Обʼєкт>;
  місцева дія обʼєкт_додати(я: адреса<Обʼєкт>, М: адреса<Машина>, середовище: адреса<Середовище>, аргумент: адреса<Обʼєкт>): адреса_або_стан_помилки<Обʼєкт>;
  місцева дія обʼєкт_числа_додати(я: адреса<Обʼєкт>, М: адреса<Машина>, середовище: адреса<Середовище>, аргумент: адреса<Обʼєкт>): адреса_або_стан_помилки<Обʼєкт>;
  місцева дія обʼєкт_виконати(я: адреса<Обʼєкт>, М: адреса<Машина>, середовище: адреса<Середовище>, аргументи: адреса<Вектор<адреса<Обʼєкт>>>, аргументи_з_назвами: адреса_або_пусто<Карта<адреса<Назва>, адреса<Обʼєкт>>>): адреса_або_стан_помилки<Обʼєкт>;

  структура БазаНазв {
    _дані: Вектор<адреса<Назва>>;
    предок: адреса<Назва>;
    чародія_додати: адреса<Назва>;
  }

  місцева дія зробити_базу_назв(): БазаНазв;
  місцева дія знайти_або_виділити_й_додати_назву(БН: адреса<БазаНазв>, значення: Ю8): адреса<Назва>;

  структура МісцезнаходженняПомилки {
    текст_коду: адреса<ТекстКоду>;
    рядок: п32;
    стовпець: п32;
  }

  місцева дія виділити_місцезнаходження_помилки(текст_коду: адреса<ТекстКоду>, рядок: п32, стовпець: п32): адреса<МісцезнаходженняПомилки>;

  структура Машина {
    БН: БазаНазв;
    стопка_виконання: Стопка<адреса<Обʼєкт>>;
    стопка_накопичувачів_аргументів: Стопка<адреса<Карта<адреса<Назва>, адреса<Обʼєкт>>>>;
    глобальне_середовище: адреса<Середовище>;
    стан_помилки: логічне;
    місцезнаходження_помилки: адреса<МісцезнаходженняПомилки>;
    обʼєкт_структури_обʼєкт: адреса<Обʼєкт>;
    обʼєкт_структури_структура: адреса<Обʼєкт>;
    обʼєкт_структури_число: адреса<Обʼєкт>;
    обʼєкт_структури_текст: адреса<Обʼєкт>;
    обʼєкт_структури_Дія: адреса<Обʼєкт>;
    обʼєкт_структури_НативнаДія: адреса<Обʼєкт>;
  }

  місцева дія виділити_машину(): адреса<Машина>;
  місцева дія виконати_код(М: адреса<Машина>, код: адреса<Код>): адреса_або_стан_помилки<Обʼєкт>;
  місцева дія увімкнути_стан_помилки(М: адреса<Машина>);
  місцева дія вимкнути_стан_помилки(М: адреса<Машина>);

  структура Середовище {
    батьківське: адреса<Середовище>;
    субʼєкти: Карта<адреса<Назва>, адреса<Обʼєкт>>;
  }

  місцева дія виділити_середовище(батьківське: адреса<Середовище>): адреса<Середовище>;
  місцева дія змінити_в_середовищі(середовище: адреса<Середовище>, назва: адреса<Назва>, обʼєкт: адреса<Обʼєкт>);
  місцева дія знайти_в_середовищі(середовище: адреса<Середовище>, назва: адреса<Назва>): адреса<Обʼєкт>;}

секція МаМа {
  структура ПомилкаКомпіляції {
    повідомлення: Ю8;
    місцезнаходження: адреса<Місцезнаходження>;
  }

  місцева дія виділити_помилку_компіляції(): адреса<ПомилкаКомпіляції>;

  структура КонтекстКомпіляції {
    код_дії: адреса<Код>;
  }

  місцева дія виділити_контекст_компіляції(): адреса<КонтекстКомпіляції>;
  місцева дія скомпілювати_елемент_значення(М: адреса<Машина>, контекст: адреса<КонтекстКомпіляції>, код: адреса<Код>, елемент: адреса<АСДЗначення>): адреса<ПомилкаКомпіляції>;
  місцева дія скомпілювати_тіло(М: адреса<Машина>, контекст: адреса<КонтекстКомпіляції>, код: адреса<Код>, тіло: адреса<СписокАСДЗначень>): адреса<ПомилкаКомпіляції>;
}