////
// Автор це Богданович Давид Когут Прихожденко та Організація Мавки та Організація Організацій
////

////
// Тут знаходяться визначення для створення розширень Мавки.
// Версія визначень 1.0.0 (РМв1).
//
// Приклад:
//
// взяти визначення РМв1;
// зовнішня дія завантажити_РМв1(Р: адреса<РМв1::Розширення>) {
//   РМв1::надрукувати_Ю8(ю8"Вітання з розширення!", Р);
// }
////

// Не рекомендується напряму отримувати властивості обʼєктів, а натомість використовувати публічні дії нижче.
секція РМв1 {
  синонім памʼять = адреса;
  синонім КД8 = памʼять<п8>;
  синонім Ю8 = памʼять<п8>;
  синонім Ю32 = памʼять<п32>;

  синонім МАЖОР = 1;
  синонім МІНОР = 0;
  синонім ПАТЧ = 0;

  структура Назва;
  структура Обʼєкт;
  структура Середовище;
  структура Виконувач;
  структура Розширення;

  структура Результат {
    успіх: логічне;
    значення: адреса<Обʼєкт>;
  }

  синонім НативнаДія = (обʼєкт_нативної_дії: адреса<Обʼєкт>, Р: адреса<Розширення>, обʼєкт_я: адреса<Обʼєкт>, кількість_аргументів: позитивне, аргументи: памʼять<адреса<Обʼєкт>>, іменовані_аргументи: адреса) -> Результат;
  синонім ВідкликПередЗвільненнямОбʼєктаНативноїДії = (обʼєкт_нативної_дії: адреса<Обʼєкт>, Р: адреса<Розширення>) -> ніщо;

  структура ВерсіяРозширення {
    мажор: позитивне;
    мінор: позитивне;
    патч: позитивне;
  }

  структура Розширення {
    версія: ВерсіяРозширення;
    дані: адреса;
    В: адреса<Виконувач>;
    обʼєкт_модуля_розширення: адреса<Обʼєкт>;
    обʼєкт_логічного_так: адреса<Обʼєкт>;
    обʼєкт_логічного_ні: адреса<Обʼєкт>;
    надрукувати_Ю8: (значення: Ю8, Р: адреса<Розширення>) -> ніщо;
    надрукувати_обʼєкт: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, глибина: позитивне) -> ніщо;
    взяти_файл: (Р: адреса<Розширення>, назва_модуля: адреса<Назва>, шлях_до_файлу: Ю8) -> Результат;
    отримати_глобальне_середовище: (Р: адреса<Розширення>) -> адреса<Середовище>;
    покласти_тимчасове_середовище: (Р: адреса<Розширення>) -> адреса<Середовище>;
    забрати_тимчасове_середовище: (Р: адреса<Розширення>) -> ніщо;
    покласти_в_НатО: (Р: адреса<Розширення>, обʼєкт: адреса<Обʼєкт>) -> ніщо;
    забрати_з_НатО: (Р: адреса<Розширення>) -> ніщо;
    назва_з_Ю8: (Р: адреса<Розширення>, значення: Ю8) -> адреса<Назва>;
    створити_нативну_дію: (Р: адреса<Розширення>, назва: адреса<Назва>, значення: НативнаДія) -> адреса<Обʼєкт>;
    створити_число: (Р: адреса<Розширення>, значення: д64) -> адреса<Обʼєкт>;
    створити_текст_з_ю8: (Р: адреса<Розширення>, значення: Ю8) -> адреса<Обʼєкт>;
    створити_юнікод_з_ю8: (Р: адреса<Розширення>, значення: Ю8) -> адреса<Обʼєкт>;
    створити_модуль: (Р: адреса<Розширення>, назва: адреса<Назва>) -> адреса<Обʼєкт>;
    створити_список: (Р: адреса<Розширення>) -> адреса<Обʼєкт>;
    створити_словник: (Р: адреса<Розширення>) -> адреса<Обʼєкт>;
    створити_обʼєкт: (Р: адреса<Розширення>) -> адреса<Обʼєкт>;
    обʼєкт_виконати_обʼєкт: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, кількість_аргументів: позитивне, аргументи: памʼять<адреса<Обʼєкт>>) -> Результат;
    обʼєкт_отримати_властивість: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, назва: адреса<Назва>) -> Результат;
    обʼєкт_змінити_властивість: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, назва: адреса<Назва>, значення: адреса<Обʼєкт>) -> Результат;
    обʼєкт_видалити_властивість: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, назва: адреса<Назва>) -> Результат;
    обʼєкт_виконати_властивість: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, назва: адреса<Назва>, кількість_аргументів: позитивне, аргументи: памʼять<адреса<Обʼєкт>>) -> Результат;
    обʼєкт_отримати_елемент: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, ключ: адреса<Обʼєкт>) -> Результат;
    обʼєкт_змінити_елемент: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, ключ: адреса<Обʼєкт>, значення: адреса<Обʼєкт>) -> Результат;
    обʼєкт_видалити_елемент: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, ключ: адреса<Обʼєкт>) -> Результат;
    обʼєкт_отримати_перебір: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>) -> Результат;
    обʼєкт_додати: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_відняти: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_помножити: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_поділити: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_остача: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_неповна_частка: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_степінь: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_вліво: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_вправо_зі_заповненням: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_двійкове_і: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_двійкове_або: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_двійкове_виключне_або: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_двійкове_не: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>) -> Результат;
    обʼєкт_більше: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_менше: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_рівно: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_містить: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_є: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, аргумент: адреса<Обʼєкт>) -> Результат;
    обʼєкт_відʼємне: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>) -> Результат;
    обʼєкт_числове: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>) -> Результат;
    обʼєкт_заперечити: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>) -> Результат;
    обʼєкт_збільшити: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>) -> Результат;
    обʼєкт_зменшити: (обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>) -> Результат;
  }
}

// Публічні дії для створення розширення.
секція РМв1 {
  дія отримати_обʼєкт_модуля_розширення(Р: адреса<Розширення>): адреса<Обʼєкт> {
    вернути Р.обʼєкт_модуля_розширення;
  }

  дія записати_дані_розширення(Р: адреса<Розширення>, дані: адреса) {
    Р.дані = дані;
  }

  дія надрукувати_Ю8(значення: Ю8, Р: адреса<Розширення>) {
    Р.надрукувати_Ю8(значення, Р);
  }

  дія надрукувати_обʼєкт(обʼєкт: адреса<Обʼєкт>, Р: адреса<Розширення>, глибина: позитивне) {
    Р.надрукувати_обʼєкт(обʼєкт, Р, глибина);
  }
}